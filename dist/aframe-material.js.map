{"version":3,"sources":["webpack:///webpack/bootstrap 9d7dfeea9351de9b433b","webpack:///./src/index.js","webpack:///./src/fade/index.js","webpack:///./src/core/event.js","webpack:///./src/utils.js","webpack:///./src/keyboard/index.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js"],"names":["AFRAME","console","error","ASSETS_PATH","require","Event","opacityUpdate","opacity","el","object3D","traverse","o","material","transparent","textEntities","text","setAttribute","registerComponent","schema","duration","type","default","init","querySelectorAll","start","tick","t","Math","min","data","removeAttribute","emit","module","exports","name","dispatchEvent","CustomEvent","detail","Utils","preloadAssets","assets_arr","assets","document","querySelector","already_exists","scene","createElement","appendChild","item","children","stuff","id","asset_item","src","extend","a","b","key","hasOwnProperty","updateOpacity","hasAttribute","props","getAttribute","getWidthFactor","wrapCount","widthFactor","components","currentFont","Assets","Draw","Behaviors","SFX","isOpen","currentInput","numericalUI","mainUI","actionsUI","alphabeticalLayout","symbolsLayout","numericalLayout","actionsLayout","show","showKeyboard","that","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","addEventListener","e","appendString","deleteLast","blur","body","update","remove","pause","play","registerPrimitive","defaultComponents","keyboard","mappings","Layouts","Config","wrapper","KEYBOARD_COLOR","numerical","index_y","i","key_id","value","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","shadow_el","letter_el","SPACE_KEY_HEIGHT","icon_el","shiftKey","circle_el","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","o_position","child","parent","parentNode","sceneEl","position","removeChild","_transitioning","animationend","removeEventListener","setTimeout","keyClick","keyDown","keyOut","keyIn","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","z","keyEl","key_type","startsWith","textEl","toLowerCase","sound","stopSound","getElementById","currentTime","playSound","disabled","color","align","font","letterSpacing","lineHeight","side","tabSize","placeholder","placeholderColor","maxLength","width","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","bind","updateText","blink","input","Object","defineProperty","get","set","enumerable","configurable","isFocused","clearInterval","cursorInterval","setInterval","noemit","str","slice","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","length","getTextWidth","trimFirst","_widthFactor","v","geometry","visibleGlyphs","line","substr","textRatio","updateCursor","enabled","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","switch","clickDisabled","click","on","off","disable","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","Array","from","reverse","check","uncheck","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","buttonColor","shadow","button","getWidth","__width","message","action","actionColor","changeWidth","toast"],"mappings":"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","file":"aframe-material.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9d7dfeea9351de9b433b","(()=>{\n  if (!AFRAME) { return console.error('AFRAME is required!'); }\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\n  require('aframe-rounded');\n  require(\"./fade\");\n  //require(\"./alert\"); @TODO ;)\n  require(\"./keyboard\");\n  require(\"./input\");\n  require(\"./switch\");\n  require(\"./form\");\n  require(\"./radio\");\n  require(\"./checkbox\");\n  require(\"./button\");\n  require(\"./toast\");\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const Event = require('../core/event');\n\nvar opacityUpdate = function(opacity) {\n  this.el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of this.textEntities) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// FADEIN\n\nAFRAME.registerComponent('fadein', {\n  schema: {\n    duration: { type: 'int', default: 200 },\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 1) {\n      this.el.removeAttribute('fadein');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// FADEOUT\n\nAFRAME.registerComponent('fadeout', {\n  schema: {\n    duration: { type: 'int', default: 200 }\n  },\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = 1-Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 0) {\n      this.el.removeAttribute('fadeout');\n      Event.emit(this.el, 'animationend');\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// SHOW\n\nAFRAME.registerComponent('show', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(1);\n    this.el.removeAttribute('show');\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// HIDE\n\nAFRAME.registerComponent('hide', {\n  init: function() {\n    this.textEntities = this.el.querySelectorAll('a-text');\n    this.opacityUpdate(0);\n    this.el.removeAttribute('hide');\n  },\n  opacityUpdate: opacityUpdate\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/fade/index.js","module.exports = {\n  emit: (el, name, data)=> {\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","const Utils = {};\n\n/**\n  Utils.preloadAssets([])\n  Add assets to Assets managment system.\n*/\nUtils.preloadAssets = (assets_arr)=>{\n  let assets = document.querySelector('a-assets'), already_exists;\n\n  if (!assets) {\n    var scene = document.querySelector('a-scene');\n    assets = document.createElement('a-assets');\n    scene.appendChild(assets);\n  }\n\n  for (let item of assets_arr) {\n    already_exists = false;\n\n    for (let stuff of assets.children) {\n      if (item.id === stuff.id) {\n        already_exists = true;\n      }\n    }\n\n    if (!already_exists) {\n      var asset_item = document.createElement(item.type);\n      asset_item.setAttribute('id', item.id);\n      asset_item.setAttribute('src', item.src);\n      assets.appendChild(asset_item);\n    }\n  }\n}\n\n\n/**\n  Utils.extend(a, b)\n  Assign object to other object.\n*/\nUtils.extend = function(a, b) {\n\tfor (let key in b) {\n\t\tif (b.hasOwnProperty(key)) {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\treturn a;\n};\n\n\nUtils.updateOpacity = function(el, opacity) {\n  if (el.hasAttribute('text')) {\n    let props = el.getAttribute('text');\n    props.opacity = opacity;\n    el.setAttribute('text', props);\n  }\n  el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of el.querySelectorAll('a-text')) {\n    text.setAttribute('opacity', opacity);\n  }\n}\n\n\n// Calculate the width factor\nUtils.getWidthFactor = function(el, wrapCount) {\n  let widthFactor = 0.00001;\n  if (el.components.text && el.components.text.currentFont) {\n    widthFactor = el.components.text.currentFont.widthFactor\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\n  }\n  return widthFactor;\n}\n\nmodule.exports = Utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Utils = require('../utils');\nconst Assets = require('./assets');\nconst Draw = require('./draw');\nconst Behaviors = require('./behaviors');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('keyboard', {\n  schema: {\n    isOpen: { type: \"boolean\", default: false }\n  },\n  currentInput: null,\n  init: function () {\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.el.SFX = SFX.init();\n    this.el.appendChild( this.el.SFX );\n\n    // Draw\n    Draw.init( this.el );\n\n    let numericalUI = Draw.numericalUI(),\n        mainUI      = Draw.mainUI(),\n        actionsUI   = Draw.actionsUI();\n\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n    this.el.symbolsLayout = Draw.symbolsLayout();\n\n    numericalUI.appendChild( Draw.numericalLayout() );\n    mainUI.appendChild( this.el.alphabeticalLayout );\n    actionsUI.appendChild( Draw.actionsLayout() );\n\n    this.el.appendChild( numericalUI );\n    this.el.appendChild( mainUI );\n    this.el.appendChild( actionsUI );\n\n    // Inject methods in elements..\n    this.el.show = function() { Behaviors.showKeyboard(that.el); }\n    this.el.hide = function() { Behaviors.hideKeyboard(that.el); }\n    this.el.open = function() { Behaviors.openKeyboard(that.el); }\n    this.el.dismiss = function() { Behaviors.dismissKeyboard(that.el); }\n    this.el.destroy = function() { Behaviors.destroyKeyboard(that.el); }\n\n    this.el.setAttribute(\"scale\", \"5 5 5\");\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n    this.el.setAttribute(\"position\", \"-3.65 -0.8 -4\");\n\n    let that = this;\n    this.el.addEventListener('input', (e)=>{\n      if (that.currentInput) {\n        that.currentInput.appendString(e.detail);\n      }\n    })\n    this.el.addEventListener('backspace', (e)=>{\n      if (that.currentInput) {\n        that.currentInput.deleteLast();\n      }\n    })\n    this.el.addEventListener('dismiss', (e)=>{\n      if (that.currentInput) {\n        that.currentInput.blur();\n      }\n    })\n    document.body.addEventListener('didfocusinput', function(e) {\n      if (that.currentInput) {\n        that.currentInput.blur(true);\n      }\n      that.currentInput = e.detail;\n      if (!that.el.isOpen) {\n        Behaviors.openKeyboard(that.el);\n      }\n    })\n    document.body.addEventListener('didblurinput', function(e) {\n      that.currentInput = null;\n      Behaviors.dismissKeyboard(that.el);\n    })\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-keyboard', {\n  defaultComponents: {\n    keyboard: {}\n  },\n  mappings: {\n    'is-open': 'keyboard.isOpen',\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","module.exports = [\n  { type: 'img', id: 'aframeKeyboardShift', src: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`},\n  { type: 'img', id: 'aframeKeyboardShiftActive', src: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`},\n  { type: 'img', id: 'aframeKeyboardGlobal', src: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`},\n  { type: 'img', id: 'aframeKeyboardBackspace', src: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`},\n  { type: 'img', id: 'aframeKeyboardEnter', src: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`},\n  { type: 'img', id: 'aframeKeyboardDismiss', src: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`},\n  { type: 'img', id: 'aframeKeyboardShadow', src: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`},\n  { type: 'audio', id: 'aframeKeyboardKeyIn', src: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`},\n  { type: 'audio', id: 'aframeKeyboardKeyDown', src: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const Layouts = require('./layouts');\nconst Config = require('./config');\nconst Behaviors = require('./behaviors');\nconst Draw = {};\n\nDraw.el = null;\n\nDraw.init = (el)=>{\n  Draw.el = el;\n  Behaviors.el = el;\n  Behaviors.SFX = el.SFX;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL UI\n\nDraw.numericalUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.025 0 0.12');\n  wrapper.setAttribute('rotation', '0 25 0');\n  wrapper.setAttribute('data-ui', true);\n  \n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.280');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW MAIN UI\n\nDraw.mainUI = ()=>{\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.312 0 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.840');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTION UI\n\nDraw.actionsUI = ()=> {\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '1.180 0 0.01');\n  wrapper.setAttribute('rotation', '0 -25 0');\n  wrapper.setAttribute('data-ui', true);\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('width', '0.180');\n  el.setAttribute('height', '0.360');\n  el.setAttribute('radius', '0.02');\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL LAYOUT\n\nDraw.numericalLayout = ()=> {\n  var data = Layouts.numerical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0;\n  for (var i in data) {\n    let key_id = 'num-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let index_x = i%3;\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n    key.setAttribute('position', `${x} -${y} 0`);\n    if (index_x === 2) { index_y++; }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ALPHABETICAL LAYOUT\n\nDraw.alphabeticalLayout = ()=> {\n  var data = Layouts.alphabetical;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n    let key_id = 'main-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add left padding on the second line\n    if (index_y === 1) {\n      x = x + Config.KEY_WIDTH/2;\n    }\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.055;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_y === 1 && index_x === 8) {\n      index_x = -1;\n      index_y++;\n    } else if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW SYMBOLS LAYOUT\n\nDraw.symbolsLayout = ()=> {\n  var data = Layouts.symbols;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let index_y = 0, index_x = 0, prev_was_space = false;\n\n  for (var i in data) {\n\n    let key_id = 'symbols-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n    let x = Config.KEY_WIDTH*index_x;\n    let y = Config.KEY_WIDTH*index_y;\n\n    // Add margin on the key next to the spacebar key\n    if (prev_was_space) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === 'spacebar') {\n      prev_was_space = true;\n      x = x+0.055;\n      y = Config.KEY_WIDTH*index_y -  0.01;\n    }\n\n    key.setAttribute('position', `${x} -${y} 0`);\n\n    if (index_x === 9) {\n      index_x = -1;\n      index_y++;\n    }\n    index_x++;\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW ACTIONS LAYOUT\n\nDraw.actionsLayout = ()=> {\n  var data = Layouts.actions;\n  var wrapper = document.createElement('a-entity');\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\n  let val_y = 0;\n  for (var i in data) {\n    let key_id = 'action-'+i;\n    let key = Draw.key(key_id, data[i].type, data[i].value);\n\n    key.setAttribute('position', `0 -${val_y} 0`);\n    if (i == 0) {\n      val_y += Config.ACTION_WIDTH+0.01;\n    }\n    else if (i == 1) {\n      val_y += Config.KEY_WIDTH+0.01;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n}\n\n// -----------------------------------------------------------------------------\n// DRAW KEY\n\nDraw.key = (id, type, value)=> {\n  var that = this;\n\n  var el = document.createElement('a-rounded');\n  el.setAttribute('key-id', id);\n  el.setAttribute('width', Config.KEY_WIDTH);\n  el.setAttribute('height', Config.KEY_WIDTH);\n  el.setAttribute('radius', '0.008');\n  el.setAttribute('position', '0 0 0');\n  el.setAttribute('key-type', type);\n  el.setAttribute('key-value', value);\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\n  // ---------------------------------------------------------------------------\n  // EVENTS\n\n  Behaviors.addKeyEvents(el);\n\n  // ---------------------------------------------------------------------------\n  // SHADOW\n\n  el.shadow_el = document.createElement('a-image');\n  el.shadow_el.setAttribute('width', Config.KEY_WIDTH*1.25);\n  el.shadow_el.setAttribute('height', Config.KEY_WIDTH*1.25);\n  el.shadow_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.002');\n  el.shadow_el.setAttribute('src', '#aframeKeyboardShadow');\n  el.appendChild(el.shadow_el);\n\n  // ---------------------------------------------------------------------------\n  // TEXT KEY\n\n  if (type === 'text' || type === 'spacebar' || type ===  'symbol') {\n    var letter_el = document.createElement('a-text');\n    letter_el.setAttribute('value', value);\n    letter_el.setAttribute('color', '#dbddde');\n    letter_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' 0');\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n    letter_el.setAttribute('align', 'center');\n    letter_el.setAttribute('baseline', 'center');\n    el.appendChild(letter_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SPACEBAR KEY\n\n  if (type === 'spacebar') {\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n    el.setAttribute('color', '#404b50');\n    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH*1.12);\n    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT*1.2);\n    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' -0.002');\n    letter_el.setAttribute('color', '#adb1b3');\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' 0');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SYMBOL KEY\n\n  else if (type === 'symbol') {\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n  }\n\n  // ---------------------------------------------------------------------------\n  // ACTION KEY\n\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n    el.setAttribute('width', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH*1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.002');\n  }\n\n  // ---------------------------------------------------------------------------\n  // SHIFT KEY\n\n  if (type === 'shift') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('data-type', 'icon');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.001')\n    icon_el.setAttribute('src', '#aframeKeyboardShift');\n    el.appendChild(icon_el);\n    Draw.el.shiftKey = el;\n  }\n\n  // ---------------------------------------------------------------------------\n  // GLOBAL\n\n  else if (type === 'global') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.032');\n    icon_el.setAttribute('height', '0.032');\n    icon_el.setAttribute('position', '0.04 0.04 0.001')\n    icon_el.setAttribute('src', '#aframeKeyboardGlobal');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // BACKSPACE\n\n  else if (type === 'backspace') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.001')\n    icon_el.setAttribute('src', '#aframeKeyboardBackspace');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // ENTER\n\n  else if (type === 'enter') {\n    el.setAttribute('height', Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute('height', Config.ACTION_WIDTH*1.25);\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.ACTION_WIDTH/2+' -0.002');\n\n    var circle_el = document.createElement('a-circle');\n    circle_el.setAttribute('color', '#4285f4');\n    circle_el.setAttribute('radius', 0.044);\n    circle_el.setAttribute('position', '0.07 0.07 0.001')\n    el.appendChild(circle_el);\n\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.034');\n    icon_el.setAttribute('height', '0.034');\n    icon_el.setAttribute('position', '0.07 0.07 0.0011')\n    icon_el.setAttribute('src', '#aframeKeyboardEnter');\n    el.appendChild(icon_el);\n  }\n\n  // ---------------------------------------------------------------------------\n  // DISMISS\n\n  else if (type === 'dismiss') {\n    var icon_el = document.createElement('a-image');\n    icon_el.setAttribute('width', '0.046');\n    icon_el.setAttribute('height', '0.046');\n    icon_el.setAttribute('position', '0.07 0.04 0.001')\n    icon_el.setAttribute('src', '#aframeKeyboardDismiss');\n    el.appendChild(icon_el);\n  }\n\n  return el;\n}\n\nmodule.exports = Draw;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","const Layouts = {\n  numerical: [\n    { type: 'text', value: '1'},\n    { type: 'text', value: '2'},\n    { type: 'text', value: '3'},\n    { type: 'text', value: '4'},\n    { type: 'text', value: '5'},\n    { type: 'text', value: '6'},\n    { type: 'text', value: '7'},\n    { type: 'text', value: '8'},\n    { type: 'text', value: '9'},\n    { type: 'text', value: '.'},\n    { type: 'text', value: '0'},\n    { type: 'text', value: '-'}\n  ],\n\n  alphabetical: [\n    { type: 'text', value: 'q'},\n    { type: 'text', value: 'w'},\n    { type: 'text', value: 'e'},\n    { type: 'text', value: 'r'},\n    { type: 'text', value: 't'},\n    { type: 'text', value: 'y'},\n    { type: 'text', value: 'u'},\n    { type: 'text', value: 'i'},\n    { type: 'text', value: 'o'},\n    { type: 'text', value: 'p'},\n\n    { type: 'text', value: 'a'},\n    { type: 'text', value: 's'},\n    { type: 'text', value: 'd'},\n    { type: 'text', value: 'f'},\n    { type: 'text', value: 'g'},\n    { type: 'text', value: 'h'},\n    { type: 'text', value: 'j'},\n    { type: 'text', value: 'k'},\n    { type: 'text', value: 'l'},\n\n    { type: 'shift'},\n    { type: 'text', value: 'z'},\n    { type: 'text', value: 'x'},\n    { type: 'text', value: 'c'},\n    { type: 'text', value: 'v'},\n    { type: 'text', value: 'b'},\n    { type: 'text', value: 'n'},\n    { type: 'text', value: 'm'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: '#+='},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  symbols: [\n    { type: 'text', value: '@'},\n    { type: 'text', value: '#'},\n    { type: 'text', value: '$'},\n    { type: 'text', value: '%'},\n    { type: 'text', value: '&'},\n    { type: 'text', value: '*'},\n    { type: 'text', value: '-'},\n    { type: 'text', value: '+'},\n    { type: 'text', value: '('},\n    { type: 'text', value: ')'},\n\n    { type: 'text', value: '~'},\n    { type: 'text', value: '`'},\n    { type: 'text', value: '\"'},\n    { type: 'text', value: '\\''},\n    { type: 'text', value: ':'},\n    { type: 'text', value: ';'},\n    { type: 'text', value: '_'},\n    { type: 'text', value: '='},\n    { type: 'text', value: '\\\\'},\n    { type: 'text', value: '/'},\n\n    { type: 'text', value: '{'},\n    { type: 'text', value: '}'},\n    { type: 'text', value: '['},\n    { type: 'text', value: ']'},\n    { type: 'text', value: '<'},\n    { type: 'text', value: '>'},\n    { type: 'text', value: '^'},\n    { type: 'text', value: '|'},\n    { type: 'text', value: '!'},\n    { type: 'text', value: '?'},\n\n    { type: 'symbol', value: 'ABC'},\n    { type: 'text', value: '@'},\n    { type: 'spacebar', value: ''},\n    { type: 'text', value: ','},\n    { type: 'text', value: '.'}\n  ],\n\n  actions: [\n    { type: 'backspace', value: 'Del'},\n    { type: 'enter', value: 'OK'},\n    { type: 'dismiss', value: 'W'},\n  ]\n}\n\nmodule.exports = Layouts;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140,\n}\n\nmodule.exports = Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Config = require('./config');\nconst Utils = require('../utils');\nconst Event = require('../core/event');\nconst SFX = require('./sfx');\nconst Behaviors = {};\n\nBehaviors.el = null;\nBehaviors.SFX = null;\n\n// -----------------------------------------------------------------------------\n// KEYBOARD METHODS\n\nBehaviors.showKeyboard = function(el) {\n  if (el.o_position) {\n    el.setAttribute(\"position\", el.o_position);\n  }\n  el.isOpen = true;\n  for(let item of el.querySelectorAll('[data-ui]') ) {\n    for (let child of item.children) {\n      child.setAttribute('show', true);\n    }\n  }\n  let parent = el.parentNode;\n  if (parent) { return; }\n  el.sceneEl.appendChild(el);\n};\n\nBehaviors.hideKeyboard = function(el) {\n  let position = el.getAttribute(\"position\");\n  if (position.x !== -10000) {\n    el.o_position = position;\n  }\n  el.isOpen = false;\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\n  el.setAttribute('fadeout', {duration: 1});\n}\n\nBehaviors.destroyKeyboard = function(el) {\n  let parent = el.parentNode;\n  if (!parent) { return; }\n  parent.removeChild(el);\n};\n\nBehaviors.openKeyboard = function(el) {\n  if (el.o_position) {\n    el.setAttribute(\"position\", el.o_position);\n  }\n  el.isOpen = true;\n  el._transitioning = true;\n  let parent = el.parentNode;\n  if (!parent) { el.sceneEl.appendChild(el); }\n  for(let item of el.querySelectorAll('[data-ui]') ) {\n    for (let child of item.children) {\n      child.setAttribute('hide', true);\n    }\n    function animationend() {\n      item.children[0].removeEventListener('animationend', animationend)\n      setTimeout(function() {\n        item.children[1].setAttribute('fadein', {duration: 160});\n        Event.emit(Behaviors.el, 'didopen');\n        el._transitioning = false;\n      }, 10)\n    }\n    item.children[0].setAttribute('fadein', {duration: 160});\n    item.children[0].addEventListener('animationend', animationend)\n  }\n};\n\nBehaviors.dismissKeyboard = function(el) {\n  el._transitioning = true;\n  for(let item of el.querySelectorAll('[data-ui]') ) {\n    for (let child of item.children) {\n      child.setAttribute('show', true);\n    }\n    el.isOpen = false;\n    function animationend() {\n      item.children[1].removeEventListener('animationend', animationend)\n      setTimeout(function() {\n        function animationend() {\n          item.children[0].removeEventListener('animationend', animationend);\n          Behaviors.hideKeyboard(el);\n          Event.emit(Behaviors.el, 'diddismiss');\n          el._transitioning = false;\n        }\n        item.children[0].setAttribute('fadeout', {duration: 160});\n        item.children[0].addEventListener('animationend', animationend);\n      }, 10)\n    }\n    item.children[1].setAttribute('fadeout', {duration: 160});\n    item.children[1].addEventListener('animationend', animationend)\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEY EVENTS\n\nBehaviors.addKeyEvents = (el)=>{\n  el.addEventListener('click', Behaviors.keyClick);\n  el.addEventListener('mousedown', Behaviors.keyDown);\n  el.addEventListener('mouseup', Behaviors.keyOut);\n  el.addEventListener('mouseleave', Behaviors.keyOut);\n  el.addEventListener('mouseenter', Behaviors.keyIn );\n  //el.addEventListener('raycaster-intersected', Behaviors.keyIn );\n  //el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut );\n  //triggerdown\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n};\n\n// -----------------------------------------------------------------------------\n// KEYCLICK\n\nBehaviors.keyClick = function() {\n  SFX.keyDown(Behaviors.SFX);\n\n  let type = this.getAttribute('key-type');\n  let value = this.getAttribute('key-value');\n\n  if (type === 'text' || type === 'spacebar') {\n    if (type === 'spacebar') { value = ' '; }\n    if (Behaviors.isShiftEnabled) {\n      value = value.toUpperCase();\n      Behaviors.shiftToggle();\n    }\n    else if (Behaviors.isSymbols) {\n      Behaviors.symbolsToggle();\n    }\n    Event.emit(Behaviors.el, 'input', value);\n  }\n  else if (type === 'shift') {\n    Behaviors.shiftToggle();\n  }\n  else if (type === 'symbol') {\n    Behaviors.symbolsToggle();\n  }\n  else if (type === 'backspace') {\n    Event.emit(Behaviors.el, 'backspace');\n  }\n  else if (type === 'enter') {\n    Event.emit(Behaviors.el, 'input', '\\n');\n  }\n  else if (type === 'dismiss') {\n    Event.emit(Behaviors.el, 'dismiss');\n  }\n}\n\n// -----------------------------------------------------------------------------\n// KEYDOWN\n\nBehaviors.keyDown = function() {\n  this.object3D.position.z = 0.003;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYIN\n\nBehaviors.keyIn = function() {\n  if (Behaviors.el._transitioning) { return; }\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n    return\n  }\n  SFX.keyIn(Behaviors.SFX);\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n  } else {\n    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYOUT\n\nBehaviors.keyOut = function() {\n  this.object3D.position.z = 0;\n  if (this.getAttribute('key-type') === 'spacebar') {\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n  } else {\n    this.setAttribute('color', Config.KEYBOARD_COLOR);\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SHIFT\n\nBehaviors.isShiftEnabled = false;\nBehaviors.shiftToggle = function() {\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n  if (Behaviors.isShiftEnabled) {\n    icon_el.setAttribute('src', '#aframeKeyboardShiftActive');\n  } else {\n    icon_el.setAttribute('src', '#aframeKeyboardShift');\n  }\n\n  for ( let keyEl of document.querySelectorAll(\"[key-id]\") ) {\n    let key_id = keyEl.getAttribute('key-id'), key_type = keyEl.getAttribute('key-type');\n    if (key_id.startsWith('main-') && key_type === \"text\") {\n      let textEl = keyEl.querySelector('a-text');\n      if (textEl) {\n        let value = textEl.getAttribute('value').toLowerCase();\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\n        textEl.setAttribute('value', value);\n      }\n    }\n  }\n}\n\n// -----------------------------------------------------------------------------\n// SYMBOLS\n\nBehaviors.isSymbols = false;\nBehaviors.symbolsToggle = function() {\n  Behaviors.isSymbols = !Behaviors.isSymbols;\n  if (!Behaviors.isSymbols) {\n    let parent = Behaviors.el.symbolsLayout.parentNode;\n    parent.removeChild(Behaviors.el.symbolsLayout);\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\n    setTimeout(function() {\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n    }, 0)\n  } else {\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\n    parent.appendChild(Behaviors.el.symbolsLayout);\n  }\n}\n\n\n\nmodule.exports = Behaviors;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeKeyboardKeyDown');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  keyIn: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeKeyboardKeyIn\").currentTime = 0;\n    el.setAttribute('src', '#aframeKeyboardKeyIn');\n    el.components.sound.playSound();\n  },\n\n  keyDown: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeKeyboardKeyDown\").currentTime = 0;\n    el.setAttribute('src', '#aframeKeyboardKeyDown');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\n/*\n@BUG: Space has not effect when no letter comes after.\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n*/\n\nAFRAME.registerComponent('input', {\n  schema: {\n    value: { type: \"string\", default: \"\" },\n    name: { type: \"string\", default: \"\" },\n    disabled: { type: \"boolean\", default: false },\n    color: { type: \"color\", default: \"#000\" },\n    align: { type: \"string\", default: \"left\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    side: { type: \"string\", default: 'front' },\n    tabSize: { type: \"int\", default: 4 },\n    placeholder: { type: \"string\", default: \"\" },\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\n    maxLength: { type: \"int\", default: 0 },\n    type: { type: \"string\", default: \"text\" },\n    width: { type: \"number\", default: 1 },\n    cursorWidth: { type: \"number\", default: 0.01 },\n    cursorHeight: { type: \"number\", default: 0.08 },\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\n    backgroundOpacity: { type: \"number\", default: 1 },\n  },\n\n  init: function () {\n    let that = this;\n\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('radius', 0.01)\n    this.background.setAttribute('height', 0.18)\n    this.background.setAttribute('side', 'double')\n    this.el.appendChild(this.background);\n\n    this.cursor = document.createElement('a-plane');\n    this.cursor.setAttribute('position', '0 0 0.003');\n    this.cursor.setAttribute('visible', false);\n    this.el.appendChild(this.cursor);\n\n    this.text = document.createElement('a-entity');\n    this.el.appendChild(this.text);\n\n    this.placeholder = document.createElement('a-entity');\n    this.placeholder.setAttribute('visible', false);\n    this.el.appendChild(this.placeholder);\n\n    this.el.focus = this.focus.bind(this);\n    this.el.blur = this.blur.bind(this);\n    this.el.appendString = this.appendString.bind(this);\n    this.el.deleteLast = this.deleteLast.bind(this);\n\n    setTimeout(function() { that.updateText(); }, 0);\n    this.blink();\n\n    this.el.addEventListener('click', function() {\n      if (this.components.input.data.disabled) { return; }\n      that.el.focus()\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  blink: function() {\n    let that = this;\n    if (!this.isFocused) {\n      that.cursor.setAttribute('visible', false);\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n      return\n    }\n    this.cursorInterval = setInterval(function(){\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n    }, 500);\n  },\n  isFocused: false,\n  focus: function(noemit) {\n    if (this.isFocused) { return; }\n    this.isFocused = true;\n    this.cursor.setAttribute('visible', true);\n    this.blink();\n    Event.emit(this.el, 'focus');\n    if (!noemit) { Event.emit(document.body, 'didfocusinput', this.el); }\n  },\n  blur: function(noemit) {\n    if (!this.isFocused) { return; }\n    this.isFocused = false;\n    if (this.cursorInterval) {\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n    }\n    this.cursor.setAttribute('visible', false);\n    Event.emit(this.el, 'blur');\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\n  },\n  appendString: function(data) {\n    if(data === '\\n') {\n      return this.blur();\n    }\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str+data;\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  deleteLast: function() {\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\" }\n    str = str.slice(0, -1);\n    this.el.setAttribute(\"value\", str)\n    Event.emit(this.el, 'change', str);\n  },\n  updateText: function() {\n    let that = this;\n    let padding = {\n      left: 0.021,\n      right: 0.021\n    };\n\n    let props = {\n      color: this.data.color,\n      align: this.data.align,\n      side: this.data.side,\n      tabSize: this.data.tabSize,\n      wrapCount: 24*this.data.width,\n      width: this.data.width\n    }\n\n    // Make cursor stop blinking when typing..\n    // (and blinking again after typing stop).\n    let attr = this.text.getAttribute(\"text\");\n    if (attr) {\n      if (this.data.value !== attr.value) {\n        if (this.cursorInterval) {\n          clearInterval(this.cursorInterval);\n          this.cursorInterval = null;\n        }\n        if (this.cursorTimer) {\n          clearTimeout(this.cursorTimer);\n          this.cursorTimer = null;\n        }\n        this.cursor.setAttribute('visible', true);\n        this.cursorTimer = setTimeout(function(){\n          that.blink();\n        }, 50);\n      }\n    }\n\n    // Max length\n    if (this.data.maxLength) {\n      props.value = this.data.value.substring(0, this.data.maxLength);\n      this.el.setAttribute('value', props.value)\n    } else {\n      props.value = this.data.value;\n    }\n\n    if (this.data.type === \"password\") {\n      props.value = \"*\".repeat(this.data.value.length);\n    }\n\n    if (this.data.font.length) { props.font = this.data.font }\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\n    this.text.setAttribute(\"text\", props);\n\n    function getTextWidth(el, trimFirst, _widthFactor) {\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        if (trimFirst) {\n          props.value = props.value.substr(1);\n        } else {\n          props.value = props.value.slice(0, -1);\n        }\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el, trimFirst);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\n        if (textRatio > 1) {\n          if (trimFirst) {\n            props.value = props.value.substr(1);\n          } else {\n            props.value = props.value.slice(0, -1);\n          }\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, trimFirst, _widthFactor);\n        }\n      }\n      return v;\n    }\n\n    if (this.text.object3D) {\n      let children = this.text.object3D.children;\n      if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n        let v = 0;\n        if (children[0].geometry.visibleGlyphs.length) {\n          v = getTextWidth(this.text, true);\n        }\n        this.cursor.setAttribute('position', v+padding.left+' 0 0.003');\n      }\n    } else { this.cursor.setAttribute('position', padding.left+' 0 0.003'); }\n\n    if (props.value.length) {\n      this.placeholder.setAttribute('visible', false);\n    } else {\n      this.placeholder.setAttribute('visible', true);\n    }\n\n    props.value = this.data.placeholder;\n    props.color = this.data.placeholderColor;\n    this.placeholder.setAttribute(\"text\", props);\n\n    setTimeout(function() {\n      getTextWidth(that.placeholder);\n    }, 0)\n\n\n    this.background.setAttribute('color', this.data.backgroundColor)\n    if (this.data.backgroundOpacity) {\n      setTimeout(function() {\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n      }, 0);\n    }\n    this.background.setAttribute('width', this.data.width);\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n    this.background.setAttribute('position', '0 -0.09 0.001');\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\n  },\n  updateCursor: function() {\n    this.cursor.setAttribute('width', this.data.cursorWidth)\n    this.cursor.setAttribute('height', this.data.cursorHeight)\n    this.cursor.setAttribute('color', this.data.cursorColor);\n  },\n  update: function () {\n    let that = this;\n    setTimeout(function() {\n      Utils.updateOpacity(that.el, that.data.opacity);\n    }, 0)\n\n    this.updateCursor();\n    this.updateText();\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-input', {\n  defaultComponents: {\n    input: {}\n  },\n  mappings: {\n    value: 'input.value',\n    name: 'input.name',\n    disabled: 'input.disabled',\n    color: 'input.color',\n    align: 'input.align',\n    font: 'input.font',\n    'letter-spacing': 'input.letterSpacing',\n    'line-height': 'input.lineHeight',\n    'opacity': 'input.opacity',\n    'side': 'input.side',\n    'tab-size': 'input.tabSize',\n    placeholder: 'input.placeholder',\n    'placeholder-color': 'input.placeholderColor',\n    'max-length': 'input.maxLength',\n    type: 'input.type',\n    width: 'input.width',\n    'cursor-width': \"input.cursorWidth\",\n    'cursor-height': \"input.cursorHeight\",\n    'cursor-color': \"input.cursorColor\",\n    'background-color': 'input.backgroundColor',\n    'background-opacity': 'input.backgroundOpacity'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('switch', {\n  schema: {\n    name: { type: \"string\", default: \"\" },\n    enabled: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    fillColor: { type: \"color\", default: \"#bababa\" },\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.SFX = SFX.init();\n    this.el.appendChild( this.SFX );\n\n    // FILL\n    this.el.fill = document.createElement('a-rounded');\n    this.el.fill.setAttribute('width', 0.36)\n    this.el.fill.setAttribute('height', 0.16)\n    this.el.fill.setAttribute('radius', 0.08)\n    this.el.fill.setAttribute('side', 'double')\n    this.el.fill.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.el.fill);\n\n    // KNOB\n    this.el.knob = document.createElement('a-circle');\n    this.el.knob.setAttribute('position', '0.06 0.08 0.002')\n    this.el.knob.setAttribute('radius', 0.12)\n    this.el.knob.setAttribute('side', 'double')\n    this.el.appendChild(this.el.knob);\n\n    // SHADOW\n    this.el.shadow_el = document.createElement('a-image');\n    this.el.shadow_el.setAttribute('width', 0.24*1.25);\n    this.el.shadow_el.setAttribute('height', 0.24*1.25);\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n    this.el.knob.appendChild(this.el.shadow_el);\n\n    this.el.addEventListener('click', function() {\n      if (this.components.switch.data.disabled) { return; }\n      this.setAttribute('enabled', !this.components.switch.data.enabled );\n      Event.emit(this, 'change', this.components.switch.data.enabled);\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.switch.data.disabled) {\n        return SFX.clickDisabled(that.SFX);\n      }\n      SFX.click(that.SFX);\n    });\n\n    Object.defineProperty(this.el, 'enabled', {\n      get: function() { return this.getAttribute('enabled'); },\n      set: function(value) { this.setAttribute('enabled', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  on: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\n    this.el.knob.setAttribute('position', '0.32 0.08 0.002');\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\n  },\n  off: function() {\n    this.el.fill.setAttribute('color', this.data.fillColor)\n    this.el.knob.setAttribute('position', '0.06 0.08 0.002');\n    this.el.knob.setAttribute('color', this.data.knobColor)\n  },\n  disable: function() {\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\n  },\n  update: function () {\n    if (this.data.enabled) {\n      this.on();\n    } else {\n      this.off();\n    }\n    if (this.data.disabled) {\n      this.disable();\n    }\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-switch', {\n  defaultComponents: {\n    switch: {}\n  },\n  mappings: {\n    name: 'switch.name',\n    enabled: 'switch.enabled',\n    disabled: 'switch.disabled',\n    'fill-color': 'switch.fillColor',\n    'knob-color': 'switch.knobColor',\n    'fill-color-enabled': 'switch.fillColorEnabled',\n    'knob-color-enabled': 'switch.knobColorEnabled',\n    'fill-color-disabled': 'switch.fillColorDisabled',\n    'knob-color-disabled': 'switch.knobColorDisabled'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\n  \n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeSwitchClick');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  click: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeSwitchClick\").currentTime = 0;\n    el.setAttribute('src', '#aframeSwitchClick');\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeSwitchClickDisabled\").currentTime = 0;\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\n\nAFRAME.registerComponent('form', {\n  schema: {\n  },\n  init: function () {\n  },\n  update: function () {\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-form', {\n  defaultComponents: {\n    form: {}\n  },\n  mappings: {\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('radio', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    radioColor: { type: \"color\", default: \"#757575\"},\n    radioColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.SFX = SFX.init();\n    this.el.appendChild( this.SFX );\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.hitbox.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-ring');\n    this.outline.setAttribute('radius-outer', 0.1)\n    this.outline.setAttribute('radius-inner', 0.078);\n    this.outline.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.outline);\n\n    // CIRCLE\n    this.circle = document.createElement('a-circle');\n    this.circle.setAttribute('radius', 0.05)\n    this.circle.setAttribute('position', '0.1 0 0.002');\n    this.el.appendChild(this.circle);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.radio.data.disabled) { return; }\n      this.setAttribute('checked', true);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.radio.data.disabled) {\n        return SFX.clickDisabled(that.SFX);\n      }\n      SFX.click(that.SFX);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.name) {\n      let nearestForm = this.el.closest(\"a-form\");\n      if (nearestForm) {\n        let didCheck = false;\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\n        children.reverse();\n        for (let child of children) {\n          // Radio + not disabled\n          if (child.components.radio ) {\n            // Currently checked\n            if (child === this.el && child.hasAttribute('checked')) {\n              didCheck = true;\n              child.components.radio.check();\n              if (!noemit) { Event.emit(child, 'change', true); }\n            } else {\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n                didCheck = true;\n                child.components.radio.check();\n              } else {\n                child.components.radio.uncheck();\n              }\n            }\n          }\n        }\n        if (!didCheck && this.el.hasAttribute('checked')) {\n          this.check();\n          if (!noemit) { Event.emit(this.el, 'change', true); }\n        }\n      }\n    }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('color', this.data.radioColorChecked);\n    this.circle.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.radioColor);\n    this.circle.setAttribute('color', this.data.radioColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.002');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        Utils.updateOpacity(that.outline, 0.4);\n        Utils.updateOpacity(that.circle, 0.4);\n        Utils.updateOpacity(that.label, 0.4);\n      } else {\n        Utils.updateOpacity(that.outline, 1);\n        Utils.updateOpacity(that.circle, 1);\n        Utils.updateOpacity(that.label, 1);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-radio', {\n  defaultComponents: {\n    radio: {}\n  },\n  mappings: {\n    checked: 'radio.checked',\n    disabled: 'radio.disabled',\n    name: 'radio.name',\n    value: 'radio.value',\n    label: 'radio.label',\n    'radio-color': 'radio.radioColor',\n    'radio-color-checked': 'radio.radioColorChecked',\n    color: 'radio.color',\n    align: 'radio.align',\n    font: 'radio.font',\n    'letter-spacing': 'radio.letterSpacing',\n    'line-height': 'radio.lineHeight',\n    'opacity': 'radio.opacity',\n    width: 'radio.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeRadioClick');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  click: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeRadioClick\").currentTime = 0;\n    el.setAttribute('src', '#aframeRadioClick');\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeRadioClickDisabled\").currentTime = 0;\n    el.setAttribute('src', '#aframeRadioClickDisabled');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('checkbox', {\n  schema: {\n    checked: { type: 'boolean', default: false },\n    disabled: { type: 'boolean', default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    checkboxColor: { type: \"color\", default: \"#757575\"},\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.SFX = SFX.init();\n    this.el.appendChild( this.SFX );\n\n    // HITBOX\n    this.hitbox = document.createElement('a-plane');\n    this.hitbox.setAttribute('height', 0.2);\n    this.hitbox.setAttribute('opacity', 0);\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('width', 0.2);\n    this.outline.setAttribute('height', 0.2);\n    this.outline.setAttribute('radius', 0.02);\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.001`);\n    this.el.appendChild(this.outline);\n\n    // INSIDE\n    this.inside = document.createElement('a-rounded');\n    this.inside.setAttribute('width', 0.156);\n    this.inside.setAttribute('height', 0.156);\n    this.inside.setAttribute('radius', 0.01);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.002`);\n    this.el.appendChild(this.inside);\n\n    // CHECKMARK\n    this.checkmark = document.createElement('a-image');\n    this.checkmark.setAttribute('width', 0.16);\n    this.checkmark.setAttribute('height', 0.16);\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n    this.checkmark.setAttribute('position', '0.1 0 0.003');\n    this.el.appendChild(this.checkmark);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.checkbox.data.disabled) { return; }\n      this.setAttribute('checked', !this.components.checkbox.data.checked);\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(that.SFX);\n      }\n      SFX.click(that.SFX);\n    });\n\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function(noemit) {\n    if (this.data.checked) {\n      this.check();\n    } else {\n      this.uncheck();\n    }\n    if (!noemit) { Event.emit(this.el, 'change', this.data.checked); }\n  },\n  check: function() {\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n    this.checkmark.setAttribute('visible', true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', \"#EEE\");\n    this.checkmark.setAttribute('visible', false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function() {\n    this.outline.setAttribute('color', this.data.checkboxColor);\n    this.inside.setAttribute('color', this.data.checkboxColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute('width', this.data.width)\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*(this.data.width+0.2),\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.001');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        Utils.updateOpacity(that.checkmark, 0.4);\n        Utils.updateOpacity(that.label, 0.4);\n      } else {\n        Utils.updateOpacity(that.checkmark, 1);\n        Utils.updateOpacity(that.label, 1);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-checkbox', {\n  defaultComponents: {\n    checkbox: {}\n  },\n  mappings: {\n    checked: 'checkbox.checked',\n    disabled: 'checkbox.disabled',\n    name: 'checkbox.name',\n    value: 'checkbox.value',\n    label: 'checkbox.label',\n    'checkbox-color': 'checkbox.checkboxColor',\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n    color: 'checkbox.color',\n    align: 'checkbox.align',\n    font: 'checkbox.font',\n    'letter-spacing': 'checkbox.letterSpacing',\n    'line-height': 'checkbox.lineHeight',\n    'opacity': 'checkbox.opacity',\n    width: 'checkbox.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeCheckboxClick');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  click: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeCheckboxClick\").currentTime = 0;\n    el.setAttribute('src', '#aframeCheckboxClick');\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeButtonClickDisabled\").currentTime = 0;\n    el.setAttribute('src', '#aframeCheckboxClickDisabled');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('button', {\n  schema: {\n    disabled: { type: 'boolean', default: false },\n    type: { type: \"string\", default: \"raised\" },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"Button\" },\n    buttonColor: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.SFX = SFX.init();\n    this.el.appendChild( this.SFX );\n\n    this.wrapper = document.createElement('a-entity');\n    this.wrapper.setAttribute('position', '0 0 0.001')\n    this.el.appendChild(this.wrapper);\n\n    this.shadow = document.createElement('a-image');\n    this.shadow.setAttribute('height', 0.36*1.25);\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement('a-rounded');\n    this.outline.setAttribute('height', 0.36);\n    this.outline.setAttribute('radius', 0.03);\n    this.outline.setAttribute('position', `0 -${0.36/2} 0.001`);\n    this.wrapper.appendChild(this.outline);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.outline.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener('click', function() {\n      if (this.components.button.data.disabled) { return; }\n      that.onClick();\n    });\n    this.el.addEventListener('mousedown', function() {\n      if (this.components.button.data.disabled) {\n        return SFX.clickDisabled(that.SFX);\n      }\n      that.wrapper.setAttribute('position', `0 0 0.036`);\n      SFX.click(that.SFX);\n    });\n    this.el.addEventListener('mouseup', function() {\n      if (this.components.button.data.disabled) { return; }\n      that.wrapper.setAttribute('position', `0 0 0`);\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, 'value', {\n      get: function() { return this.getAttribute('value'); },\n      set: function(value) { this.setAttribute('value', value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function() {\n    //Event.emit(this.el, 'click');\n  },\n  getWidth: function() {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute('color', this.data.buttonColor);\n\n    let props = {\n      color: this.data.color,\n      align: 'center',\n      wrapCount: 10*this.data.width,\n      width: this.data.width,\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // TITLE\n    props.value = this.data.value.toUpperCase();\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.001');\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width ) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function() {\n      if (that.data.value.length) {\n        let width = getTextWidth(that.label);\n        that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.002`);//\n        width = width+0.28;\n        that.outline.setAttribute('width', width);\n        that.__width = width;\n        that.shadow.setAttribute('width', width*1.17);\n        that.shadow.setAttribute('position', width/2+' 0 0');\n        Event.emit(that.el, 'change:width', width)\n      }\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute('visible', false);\n        Utils.updateOpacity(that.el, 0.4);\n      } else {\n        that.shadow.setAttribute('visible', true);\n        Utils.updateOpacity(that.el, 1);\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute('visible', false);\n        Utils.updateOpacity(that.outline, 0);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-button', {\n  defaultComponents: {\n    button: {}\n  },\n  mappings: {\n    disabled: 'button.disabled',\n    type: 'button.type',\n    name: 'button.name',\n    value: 'button.value',\n    'button-color': 'button.buttonColor',\n    color: 'button.color',\n    font: 'button.font',\n    'letter-spacing': 'button.letterSpacing',\n    'line-height': 'button.lineHeight',\n    'opacity': 'button.opacity',\n    'width': 'button.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","module.exports = [\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\n\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeButtonClick');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  click: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeButtonClick\").currentTime = 0;\n    el.setAttribute('src', '#aframeButtonClick');\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeButtonClickDisabled\").currentTime = 0;\n    el.setAttribute('src', '#aframeButtonClickDisabled');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js","const Utils = require('../utils');\nconst Event = require('../core/event');\nconst Assets = require('./assets');\nconst SFX = require('./sfx');\n\nAFRAME.registerComponent('toast', {\n  schema: {\n    message: { type: 'string', default: \"You are cool\" },\n    action: { type: 'string', default: \"\" },\n    backgroundColor: { type: \"color\", default: \"#222\" },//242f35\n    actionColor: { type: \"color\", default: \"#4076fd\"},\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    width: { type: \"number\", default: 3 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets( Assets );\n\n    // SFX\n    this.SFX = SFX.init();\n    this.el.appendChild( this.SFX );\n\n    // CONFIG\n    this.el.setAttribute(\"position\", `10000 10000 10000`);\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\n\n    // OUTLINE\n    this.background = document.createElement('a-rounded');\n    this.background.setAttribute('height', 0.44);\n    this.background.setAttribute('radius', 0.03);\n    this.background.setAttribute('position', `0 -${0.36/2} 0.001`);\n    this.el.appendChild(this.background);\n\n    // LABEL\n    this.label = document.createElement('a-entity');\n    this.el.appendChild(this.label);\n\n    // LABEL\n    this.action = document.createElement('a-button');\n    that.action.setAttribute('button-color', '#222')\n\n    this.el.appendChild(this.action);\n\n    function changeWidth(e){\n      let attr = that.label.getAttribute('text');\n      attr.width = that.data.width-e.detail;\n      attr.wrapCount = 10*attr.width;\n      that.label.setAttribute('text', attr);\n      that.label.setAttribute('position', attr.width/2+0.14+' 0.04 0.001');\n\n      this.setAttribute('position', `${that.data.width-e.detail} ${(0.44-0.36)/2} 0.001`)\n    }\n    this.action.addEventListener('change:width', changeWidth);\n    this.action.addEventListener('click', function() {\n      //that.hide();\n    })\n\n    setTimeout(function() {\n      Utils.updateOpacity(that.el, 0);\n      Utils.updateOpacity(that.label, 0);\n      Utils.updateOpacity(that.action, 0);\n      that.el.setAttribute(\"position\", `${-that.data.width/2} 0.25 -2.6`);\n      that.show();\n    }, 1000);\n\n  },\n  show: function() {\n    let that = this;\n    setTimeout(function() {\n      that.el.setAttribute('fadein', {duration: 160});\n      setTimeout(function() {\n        Utils.updateOpacity(that.label, 1);\n        that.action.components.button.shadow.setAttribute('visible', false);\n      }, 10)\n    }, 0)\n    setTimeout(function() {\n      that.hide();\n    }, 2000);\n\n    SFX.show(this.SFX);\n  },\n  hide: function() {\n    let that = this;\n    setTimeout(function() {\n      Utils.updateOpacity(that.label, 0);\n      that.action.components.button.shadow.setAttribute('visible', false);\n      setTimeout(function() {\n        that.el.setAttribute('fadeout', {duration: 160});\n        setTimeout(function() {\n          if (that.el.parentNode) {\n            that.el.parentNode.removeChild(that.el);\n          }\n        }, 200);\n      }, 10)\n    }, 0);\n  },\n  onClick: function() {\n    //Event.emit(this.el, 'click');\n  },\n  update: function () {\n    var that = this;\n\n    // BACKGROUND\n    this.background.setAttribute('color', this.data.backgroundColor);\n    this.background.setAttribute('width', this.data.width);\n\n    let props = {\n      color: this.data.color,\n      align: 'left',\n      wrapCount: 10*this.data.width,\n      width: this.data.width,\n      lineHeight: 64\n    }\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // MESSAGE\n    props.value = this.data.message\n    this.label.setAttribute('text', props);\n    this.label.setAttribute('position', this.data.width/2+0.14+' 0 0.001');\n\n    // ACTION\n    this.action.setAttribute('value', this.data.action.toUpperCase());\n    this.action.setAttribute('color', this.data.actionColor);\n\n    /*\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth(el, _widthFactor) {\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length-1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }*/\n    setTimeout(function() {\n      //console.log(that.action.getWidth() )\n      /*if (that.data.value.length) {\n        let width = getTextWidth(that.label);\n        that.label.setAttribute('position', width/2+0.28+' 0 0.001');\n        width = width+0.28+0.14;\n        that.outline.setAttribute('width', width);\n\n        that.shadow.setAttribute('width', width*1.16);\n        that.shadow.setAttribute('position', width/2+' 0 0');\n      }*/\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-toast', {\n  defaultComponents: {\n    toast: {}\n  },\n  mappings: {\n    message: 'toast.message',\n    action: 'toast.action',\n    'action-color': 'toast.actionColor',\n    'background-color': 'toast.backgroundColor',\n    color: 'toast.color',\n    font: 'toast.font',\n    'letter-spacing': 'toast.letterSpacing',\n    'line-height': 'toast.lineHeight',\n    'width': 'toast.width'\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/index.js","module.exports = [\n  { type: 'audio', id: 'aframeToastShow', src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3`}\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/assets.js","const SFX = {\n  init: function(parent) {\n    let el = document.createElement('a-sound');\n    el.setAttribute('sfx', true);\n    el.setAttribute('src', '#aframeToastShow');\n    el.setAttribute('position', '0 2 5');\n    return el;\n  },\n\n  show: function(el) {\n    el.components.sound.stopSound();\n    document.getElementById(\"aframeToastShow\").currentTime = 0;\n    el.setAttribute('src', '#aframeToastShow');\n    el.components.sound.playSound();\n  }\n}\n\nmodule.exports = SFX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/sfx.js"],"sourceRoot":""}